{% extends "GGTeamForumBundle::Admin/base.html.twig" %}

{% block javascripts %}
    <script type="text/javascript" src="{{ asset('bundles/ggteamforum/js/listecategories_admin.js') }}"></script>
{% endblock %}

{% block content %}
    <div class="navbar">
        <a href="{{ path("gg_team_forum_admin_savecategories") }}" id="savecategories" class="btn btn-success btn-lg"
           role="button">Sauvegarder les Catégories</a>
        <a href="{{ path("gg_team_forum_admin_addcategory") }}" class="btn btn-primary btn-lg" role="button">Ajouter une
            Catégorie</a>
        <a href="" id="button-fiche" class="btn btn-primary btn-lg" disabled="disabled" role="button">Voir la Catégorie</a>
        <a href="" id="button-remove" class="btn btn-danger btn-lg" disabled="disabled" role="button">Supprimer Catégorie</a>
    </div>
    <ol class="nested_with_switch">
        {% for category in categories %}
            <li id="{{ category.id }}">
                <a href="{{ path("gg_team_forum_admin_updatecategory", {idcategory:category.id}) }}">
                    {# <div class="col-md-4 col-md-offset-2 btn btn-default"> #}
                    <div info="{{ category.id }}" class="btn btn-sm btn-default category-button">
                        <h5>{{ category.name }}</h5>
                    </div>
                </a>
                <ol>
                    {% include "GGTeamForumBundle:Admin/Category:listecategories.template.html.twig" with {'categories': category.categories, "lvl": 11} %}
                </ol>
            </li>
        {% else %}
            <li class="row">
                <div class="col-md-9 col-md-offset-3">Il n'y a pas de Catégories.</div>
            </li>
        {% endfor %}
    </ol>

{% endblock %}